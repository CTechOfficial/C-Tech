TYPE=VIEW
query=select concat(cast(year(now()) as char charset cp850),\'_1_\',cast(year(now()) as char charset cp850)) AS `CODE`,`darties1`.`dim_temps`.`ID_TEMPS` AS `ID_TEMPS` from `darties1`.`dim_temps` where (`darties1`.`dim_temps`.`ANNEE` = year(now())) union all select concat(`darties1`.`dim_temps`.`ANNEE`,\'_4_\',`darties1`.`dim_temps`.`MOIS`) AS `concat(ANNEE,\'_4_\',MOIS)`,`darties1`.`dim_temps`.`ID_TEMPS` AS `ID_TEMPS` from `darties1`.`dim_temps` where (`darties1`.`dim_temps`.`ANNEE` = year(now())) union all select distinct (`t1`.`ANNEE` or \'_3_\' or `t1`.`TRIMESTRE`) AS `ANNEE||\'_3_\'||TRIMESTRE`,`t1`.`ID_TEMPS` AS `ID_TEMPS` from `darties1`.`dim_temps` `t1` where ((`t1`.`ANNEE` = year(now())) and `t1`.`MOIS` in (select distinct `darties1`.`dim_temps`.`MOIS` from `darties1`.`dim_temps` where ((`darties1`.`dim_temps`.`ANNEE` = `t1`.`ANNEE`) and (`darties1`.`dim_temps`.`TRIMESTRE` = `t1`.`TRIMESTRE`)))) union all select distinct (`t1`.`ANNEE` or \'_2_\' or `t1`.`SEMESTRE`) AS `ANNEE||\'_2_\'||SEMESTRE`,`t1`.`ID_TEMPS` AS `ID_TEMPS` from `darties1`.`dim_temps` `t1` where ((`t1`.`ANNEE` = year(now())) and `t1`.`MOIS` in (select distinct `darties1`.`dim_temps`.`MOIS` from `darties1`.`dim_temps` where ((`darties1`.`dim_temps`.`ANNEE` = `t1`.`ANNEE`) and (`darties1`.`dim_temps`.`SEMESTRE` = `t1`.`SEMESTRE`)))) union all select concat(cast((year(now()) - 1) as char charset cp850),\'_1_\',cast((year(now()) - 1) as char charset cp850)) AS `CODE`,`darties1`.`dim_temps`.`ID_TEMPS` AS `ID_TEMPS` from `darties1`.`dim_temps` where (`darties1`.`dim_temps`.`ANNEE` = (year(now()) - 1)) union all select concat(`darties1`.`dim_temps`.`ANNEE`,\'_4_\',`darties1`.`dim_temps`.`MOIS`) AS `concat(ANNEE,\'_4_\',MOIS)`,`darties1`.`dim_temps`.`ID_TEMPS` AS `ID_TEMPS` from `darties1`.`dim_temps` where (`darties1`.`dim_temps`.`ANNEE` = (year(now()) - 1)) union all select distinct (`t1`.`ANNEE` or \'_3_\' or `t1`.`TRIMESTRE`) AS `ANNEE||\'_3_\'||TRIMESTRE`,`t1`.`ID_TEMPS` AS `ID_TEMPS` from `darties1`.`dim_temps` `t1` where ((`t1`.`ANNEE` = (year(now()) - 1)) and `t1`.`MOIS` in (select distinct `darties1`.`dim_temps`.`MOIS` from `darties1`.`dim_temps` where ((`darties1`.`dim_temps`.`ANNEE` = `t1`.`ANNEE`) and (`darties1`.`dim_temps`.`TRIMESTRE` = `t1`.`TRIMESTRE`)))) union all select distinct (`t1`.`ANNEE` or \'_2_\' or `t1`.`SEMESTRE`) AS `ANNEE||\'_2_\'||SEMESTRE`,`t1`.`ID_TEMPS` AS `ID_TEMPS` from `darties1`.`dim_temps` `t1` where ((`t1`.`ANNEE` = (year(now()) - 1)) and `t1`.`MOIS` in (select distinct `darties1`.`dim_temps`.`MOIS` from `darties1`.`dim_temps` where ((`darties1`.`dim_temps`.`ANNEE` = `t1`.`ANNEE`) and (`darties1`.`dim_temps`.`SEMESTRE` = `t1`.`SEMESTRE`)))) union all select concat(cast((year(now()) - 2) as char charset cp850),\'_1_\',cast((year(now()) - 2) as char charset cp850)) AS `CODE`,`darties1`.`dim_temps`.`ID_TEMPS` AS `ID_TEMPS` from `darties1`.`dim_temps` where (`darties1`.`dim_temps`.`ANNEE` = (year(now()) - 2)) union all select concat(`darties1`.`dim_temps`.`ANNEE`,\'_4_\',`darties1`.`dim_temps`.`MOIS`) AS `concat(ANNEE,\'_4_\',MOIS)`,`darties1`.`dim_temps`.`ID_TEMPS` AS `ID_TEMPS` from `darties1`.`dim_temps` where (`darties1`.`dim_temps`.`ANNEE` = (year(now()) - 2)) union all select distinct (`t1`.`ANNEE` or \'_3_\' or `t1`.`TRIMESTRE`) AS `ANNEE||\'_3_\'||TRIMESTRE`,`t1`.`ID_TEMPS` AS `ID_TEMPS` from `darties1`.`dim_temps` `t1` where ((`t1`.`ANNEE` = (year(now()) - 2)) and `t1`.`MOIS` in (select distinct `darties1`.`dim_temps`.`MOIS` from `darties1`.`dim_temps` where ((`darties1`.`dim_temps`.`ANNEE` = `t1`.`ANNEE`) and (`darties1`.`dim_temps`.`TRIMESTRE` = `t1`.`TRIMESTRE`)))) union all select distinct (`t1`.`ANNEE` or \'_2_\' or `t1`.`SEMESTRE`) AS `ANNEE||\'_2_\'||SEMESTRE`,`t1`.`ID_TEMPS` AS `ID_TEMPS` from `darties1`.`dim_temps` `t1` where ((`t1`.`ANNEE` = (year(now()) - 2)) and `t1`.`MOIS` in (select distinct `darties1`.`dim_temps`.`MOIS` from `darties1`.`dim_temps` where ((`darties1`.`dim_temps`.`ANNEE` = `t1`.`ANNEE`) and (`darties1`.`dim_temps`.`SEMESTRE` = `t1`.`SEMESTRE`))))
md5=f2489de5a6c8e3d0572e2317fc7fa9d7
updatable=0
algorithm=0
definer_user=darties1
definer_host=localhost
suid=2
with_check_option=0
timestamp=2016-10-07 09:42:59
create-version=1
source=SELECT CONCAT( cast( YEAR( NOW( ) ) AS char ) , \'_1_\', cast( YEAR( NOW( ) ) AS char ) ) AS CODE,ID_TEMPS AS ID_TEMPS FROM dim_temps WHERE ANNEE=YEAR(NOW()) \nUNION ALL\nSELECT concat(ANNEE,\'_4_\',MOIS),  ID_TEMPS from dim_temps \nWHERE ANNEE=YEAR(NOW())\nUNION ALL\nSELECT DISTINCT ANNEE||\'_3_\'||TRIMESTRE,ID_TEMPS from dim_temps T1\nWHERE ANNEE=YEAR(NOW()) AND MOIS IN (SELECT DISTINCT MOIS FROM dim_temps WHERE ANNEE=T1.ANNEE AND TRIMESTRE=T1.TRIMESTRE) \nUNION ALL\nSELECT DISTINCT ANNEE||\'_2_\'||SEMESTRE, ID_TEMPS from dim_temps T1 \nWHERE ANNEE=YEAR(NOW()) AND MOIS IN (SELECT DISTINCT MOIS FROM dim_temps WHERE ANNEE=T1.ANNEE AND SEMESTRE=T1.SEMESTRE) \nUNION ALL\nSELECT CONCAT( cast( YEAR( NOW( ) )-1 AS char ) , \'_1_\', cast( YEAR( NOW( ) )-1 AS char ) ) AS CODE,ID_TEMPS AS ID_TEMPS FROM dim_temps WHERE ANNEE=YEAR(NOW())-1 \nUNION ALL\nSELECT concat(ANNEE,\'_4_\',MOIS),  ID_TEMPS from dim_temps \nWHERE ANNEE=YEAR(NOW())-1\nUNION ALL\nSELECT DISTINCT ANNEE||\'_3_\'||TRIMESTRE,ID_TEMPS from dim_temps T1\nWHERE ANNEE=YEAR(NOW())-1 AND MOIS IN (SELECT DISTINCT MOIS FROM dim_temps WHERE ANNEE=T1.ANNEE AND TRIMESTRE=T1.TRIMESTRE) \nUNION ALL\nSELECT DISTINCT ANNEE||\'_2_\'||SEMESTRE, ID_TEMPS from dim_temps T1 \nWHERE ANNEE=YEAR(NOW())-1 AND MOIS IN (SELECT DISTINCT MOIS FROM dim_temps WHERE ANNEE=T1.ANNEE AND SEMESTRE=T1.SEMESTRE) \nUNION ALL\nSELECT CONCAT( cast( YEAR( NOW( ) )-2 AS char ) , \'_1_\', cast( YEAR( NOW( ) )-2 AS char ) ) AS CODE,ID_TEMPS AS ID_TEMPS FROM dim_temps WHERE ANNEE=YEAR(NOW())-2 \nUNION ALL\nSELECT concat(ANNEE,\'_4_\',MOIS),  ID_TEMPS from dim_temps \nWHERE ANNEE=YEAR(NOW())-2\nUNION ALL\nSELECT DISTINCT ANNEE||\'_3_\'||TRIMESTRE,ID_TEMPS from dim_temps T1\nWHERE ANNEE=YEAR(NOW())-2 AND MOIS IN (SELECT DISTINCT MOIS FROM dim_temps WHERE ANNEE=T1.ANNEE AND TRIMESTRE=T1.TRIMESTRE) \nUNION ALL\nSELECT DISTINCT ANNEE||\'_2_\'||SEMESTRE, ID_TEMPS from dim_temps T1 \nWHERE ANNEE=YEAR(NOW())-2 AND MOIS IN (SELECT DISTINCT MOIS FROM dim_temps WHERE ANNEE=T1.ANNEE AND SEMESTRE=T1.SEMESTRE)
client_cs_name=cp850
connection_cl_name=cp850_general_ci
view_body_utf8=select concat(cast(year(now()) as char charset cp850),\'_1_\',cast(year(now()) as char charset cp850)) AS `CODE`,`darties1`.`dim_temps`.`ID_TEMPS` AS `ID_TEMPS` from `darties1`.`dim_temps` where (`darties1`.`dim_temps`.`ANNEE` = year(now())) union all select concat(`darties1`.`dim_temps`.`ANNEE`,\'_4_\',`darties1`.`dim_temps`.`MOIS`) AS `concat(ANNEE,\'_4_\',MOIS)`,`darties1`.`dim_temps`.`ID_TEMPS` AS `ID_TEMPS` from `darties1`.`dim_temps` where (`darties1`.`dim_temps`.`ANNEE` = year(now())) union all select distinct (`t1`.`ANNEE` or \'_3_\' or `t1`.`TRIMESTRE`) AS `ANNEE||\'_3_\'||TRIMESTRE`,`t1`.`ID_TEMPS` AS `ID_TEMPS` from `darties1`.`dim_temps` `t1` where ((`t1`.`ANNEE` = year(now())) and `t1`.`MOIS` in (select distinct `darties1`.`dim_temps`.`MOIS` from `darties1`.`dim_temps` where ((`darties1`.`dim_temps`.`ANNEE` = `t1`.`ANNEE`) and (`darties1`.`dim_temps`.`TRIMESTRE` = `t1`.`TRIMESTRE`)))) union all select distinct (`t1`.`ANNEE` or \'_2_\' or `t1`.`SEMESTRE`) AS `ANNEE||\'_2_\'||SEMESTRE`,`t1`.`ID_TEMPS` AS `ID_TEMPS` from `darties1`.`dim_temps` `t1` where ((`t1`.`ANNEE` = year(now())) and `t1`.`MOIS` in (select distinct `darties1`.`dim_temps`.`MOIS` from `darties1`.`dim_temps` where ((`darties1`.`dim_temps`.`ANNEE` = `t1`.`ANNEE`) and (`darties1`.`dim_temps`.`SEMESTRE` = `t1`.`SEMESTRE`)))) union all select concat(cast((year(now()) - 1) as char charset cp850),\'_1_\',cast((year(now()) - 1) as char charset cp850)) AS `CODE`,`darties1`.`dim_temps`.`ID_TEMPS` AS `ID_TEMPS` from `darties1`.`dim_temps` where (`darties1`.`dim_temps`.`ANNEE` = (year(now()) - 1)) union all select concat(`darties1`.`dim_temps`.`ANNEE`,\'_4_\',`darties1`.`dim_temps`.`MOIS`) AS `concat(ANNEE,\'_4_\',MOIS)`,`darties1`.`dim_temps`.`ID_TEMPS` AS `ID_TEMPS` from `darties1`.`dim_temps` where (`darties1`.`dim_temps`.`ANNEE` = (year(now()) - 1)) union all select distinct (`t1`.`ANNEE` or \'_3_\' or `t1`.`TRIMESTRE`) AS `ANNEE||\'_3_\'||TRIMESTRE`,`t1`.`ID_TEMPS` AS `ID_TEMPS` from `darties1`.`dim_temps` `t1` where ((`t1`.`ANNEE` = (year(now()) - 1)) and `t1`.`MOIS` in (select distinct `darties1`.`dim_temps`.`MOIS` from `darties1`.`dim_temps` where ((`darties1`.`dim_temps`.`ANNEE` = `t1`.`ANNEE`) and (`darties1`.`dim_temps`.`TRIMESTRE` = `t1`.`TRIMESTRE`)))) union all select distinct (`t1`.`ANNEE` or \'_2_\' or `t1`.`SEMESTRE`) AS `ANNEE||\'_2_\'||SEMESTRE`,`t1`.`ID_TEMPS` AS `ID_TEMPS` from `darties1`.`dim_temps` `t1` where ((`t1`.`ANNEE` = (year(now()) - 1)) and `t1`.`MOIS` in (select distinct `darties1`.`dim_temps`.`MOIS` from `darties1`.`dim_temps` where ((`darties1`.`dim_temps`.`ANNEE` = `t1`.`ANNEE`) and (`darties1`.`dim_temps`.`SEMESTRE` = `t1`.`SEMESTRE`)))) union all select concat(cast((year(now()) - 2) as char charset cp850),\'_1_\',cast((year(now()) - 2) as char charset cp850)) AS `CODE`,`darties1`.`dim_temps`.`ID_TEMPS` AS `ID_TEMPS` from `darties1`.`dim_temps` where (`darties1`.`dim_temps`.`ANNEE` = (year(now()) - 2)) union all select concat(`darties1`.`dim_temps`.`ANNEE`,\'_4_\',`darties1`.`dim_temps`.`MOIS`) AS `concat(ANNEE,\'_4_\',MOIS)`,`darties1`.`dim_temps`.`ID_TEMPS` AS `ID_TEMPS` from `darties1`.`dim_temps` where (`darties1`.`dim_temps`.`ANNEE` = (year(now()) - 2)) union all select distinct (`t1`.`ANNEE` or \'_3_\' or `t1`.`TRIMESTRE`) AS `ANNEE||\'_3_\'||TRIMESTRE`,`t1`.`ID_TEMPS` AS `ID_TEMPS` from `darties1`.`dim_temps` `t1` where ((`t1`.`ANNEE` = (year(now()) - 2)) and `t1`.`MOIS` in (select distinct `darties1`.`dim_temps`.`MOIS` from `darties1`.`dim_temps` where ((`darties1`.`dim_temps`.`ANNEE` = `t1`.`ANNEE`) and (`darties1`.`dim_temps`.`TRIMESTRE` = `t1`.`TRIMESTRE`)))) union all select distinct (`t1`.`ANNEE` or \'_2_\' or `t1`.`SEMESTRE`) AS `ANNEE||\'_2_\'||SEMESTRE`,`t1`.`ID_TEMPS` AS `ID_TEMPS` from `darties1`.`dim_temps` `t1` where ((`t1`.`ANNEE` = (year(now()) - 2)) and `t1`.`MOIS` in (select distinct `darties1`.`dim_temps`.`MOIS` from `darties1`.`dim_temps` where ((`darties1`.`dim_temps`.`ANNEE` = `t1`.`ANNEE`) and (`darties1`.`dim_temps`.`SEMESTRE` = `t1`.`SEMESTRE`))))
